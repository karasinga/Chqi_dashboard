<!-- Example using the styled section -->
<section class="map-section">
  <!-- Note: The 'card' class is removed, as the section provides the container -->
  <div>
    <h5 class="card-title">Executive summary</h5>
    <p class="card-text mt-2">
      This is the executive summary content. It lives inside a styled section
      but not inside a card itself, creating a cleaner look.
    </p>
  </div>
</section>

{% include "research_dashboard/partials/study_area_map.html" %}
<!-- Documents -->
<div class="card">
  <div class="card-header bg-white py-3">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="card-title mb-0">Documents</h5>
      <button
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#addDocumentModal"
      >
        <i class="mdi mdi-plus me-1"></i> Add Document
      </button>
    </div>
  </div>
  <div class="card-body p-0" id="documents-table-container">
    {% include "research_dashboard/partials/documents_table.html" with documents=documents %}
  </div>
  </div>
</div>

<!-- Document Delete Handler -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const deleteModal = document.getElementById('deleteDocumentModal');
    if (deleteModal) {
      deleteModal.addEventListener('show.bs.modal', function(event) {
        const button = event.relatedTarget;
        const documentId = button.getAttribute('data-document-id');
        const documentName = button.getAttribute('data-document-name');
        
        document.getElementById('deleteDocumentId').value = documentId;
        document.getElementById('documentNameToDelete').textContent = documentName;
      });
    }
  });
</script>

